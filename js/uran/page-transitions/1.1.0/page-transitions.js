define("uran/page-transitions/1.1.0/page-transitions",["$"],function(a){function b(a){var b=a.match(/([^/?]+?)(?:\.htm[l]?)?(?:\?.+)?$/i);return b?b[1].toLowerCase():!1}function c(a,c,e,h){a&&("boolean"==typeof c&&(h=e,e=c,c=null),f.ajax({url:a,type:c?"post":"get",data:c,dataType:"html",success:function(c){var i,j=f("<div></div>"),k=c.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;j.get(0).innerHTML=c,i=j.find("[data-role=page]").first().removeClass("ui-page-active").css("transition","0ms").hide().attr("data-url",b(a)),k&&i.data("title",k),f("body").append(i),d(i,e,h),g.onPageload&&g.onPageload(i)}}))}function d(a,b){var c=f(".ui-page-active");if(!c.data("transited")){c.data("transited",!0),a.data("transited",!0),a.data("url"),window.scrollTo(0,1),f("[data-rel=back]",a).data("href",c.data("url"));var d=c.width();c.one(k,function(){f(this).removeClass("ui-page-active").width("100%").css("transition","0ms").css("transform","").removeData("transited").hide()}),a.show().one(k,function(){f(this).addClass("ui-page-active").width("100%").css("transition","0ms").css("transform","").removeData("transited"),window.scrollTo(0,0),e.transitted=!1,g.onTransform&&g.onTransform(f(this),b)}),e.transitted=!0,g.onTransformBegin&&g.onTransformBegin(a,b),c.width(d+"px").css("transform","translateX(0px)"),a.width(d+"px").css("transform",b?"translateX(-"+d+"px)":"translateX("+d+"px)"),setTimeout(function(){c.css("transition","350ms"),a.css("transition","350ms"),c.css("transform",b?"translateX("+d+"px)":"translateX(-"+d+"px)"),a.css("transform","translateX(0px)")},50),document.title=a.data("title")||document.title}}var e,f=a("$"),g={},h=!1,i=f.support.transform&&f.support.transition,j=f.support.touch?"touchstart":"click",k="webkitTransitionEnd transitionend";return e={init:function(a){i&&(h||(f.extend(g,a),f(document).on(j,"a[data-transition]",function(){var a,e=f(this).attr("href"),g=!(f(this).data("state")===!1),h=b(e);return h&&(a=f('[data-url="'+h+'"]')),a&&a.length?d(a,!1,g):c(e),!1}),f(document).on("submit","form[data-transition]",function(){if(!this.onsubmit||this.onsubmit()){var a=f(this).attr("action"),d=!(f(this).data("state")===!1),e=b(a);return e&&f('[data-url="'+e+'"]').remove(),c(a,f(this).serialize(),!1,d),!1}}),f(document).on(j,"[data-rel=back]",function(){var a,e=f(this).attr("href"),g=b(f(this).data("href"));return g&&(a=f('[data-url="'+g+'"]')),a&&a.length?d(a,!0,!0):c(e,!0,!0),!1}),f("[data-role=page]").addClass("ui-page-active").css("transition","0ms").attr("data-url",b(location.href)).data("title",document.title)))},forward:function(a,e){if(i){var g,h=b(a);h&&(g=f('[data-url="'+h+'"]')),g&&g.length?d(g,!1,e):c(a)}else self.location.href=a},backward:function(a){if(i){var e,g=b(a);g&&(e=f('[data-url*="'+g+'"]')),e&&e.length?d(e,!0,!0):c(a,!0,!0)}else self.location.href=a}}});
