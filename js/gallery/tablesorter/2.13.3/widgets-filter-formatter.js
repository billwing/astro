define("gallery/tablesorter/2.13.3/widgets-filter-formatter",["$"],function(a){var b=a("$");!function(a){"use strict";a.tablesorter=a.tablesorter||{},a.tablesorter.filterFormatter={uiSpinner:function(b,c,d){var e=a.extend({min:0,max:100,step:1,value:1,delayed:!0,addToggle:!0,disabled:!1,exactMatch:!0,compare:""},d),f=a('<input class="filter" type="hidden">').appendTo(b).bind("change.tsfilter",function(){i({value:this.value,delayed:!1})}),g=[],h=b.closest("table")[0].config,i=function(c){var d,f=!0,h=c&&c.value&&a.tablesorter.formatFloat((c.value+"").replace(/[><=]/g,""))||b.find(".spinner").val()||e.value;e.addToggle&&(f=b.find(".toggle").is(":checked")),d=e.disabled||!f?"disable":"enable",b.find(".filter").val(f?(e.compare?e.compare:e.exactMatch?"=":"")+h:"").trigger("search",c&&"boolean"==typeof c.delayed?c.delayed:e.delayed).end().find(".spinner").spinner(d).val(h),g.length&&(g.find(".spinner").spinner(d).val(h),e.addToggle&&(g.find(".toggle")[0].checked=f))};return e.oldcreate=e.create,e.oldspin=e.spin,e.create=function(a,b){i(),"function"==typeof e.oldcreate&&e.oldcreate(a,b)},e.spin=function(a,b){i(b),"function"==typeof e.oldspin&&e.oldspin(a,b)},e.addToggle&&a('<div class="button"><input id="uispinnerbutton'+c+'" type="checkbox" class="toggle" /><label for="uispinnerbutton'+c+'"></label></div>').appendTo(b).find(".toggle").bind("change",function(){i()}),b.closest("thead").find("th[data-column="+c+"]").addClass("filter-parsed"),a('<input class="spinner spinner'+c+'" />').val(e.value).appendTo(b).spinner(e).bind("change keyup",function(){i()}),h.$table.bind("stickyHeadersInit",function(){g=h.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(c).empty(),e.addToggle&&a('<div class="button"><input id="stickyuispinnerbutton'+c+'" type="checkbox" class="toggle" /><label for="stickyuispinnerbutton'+c+'"></label></div>').appendTo(g).find(".toggle").bind("change",function(){b.find(".toggle")[0].checked=this.checked,i()}),a('<input class="spinner spinner'+c+'" />').val(e.value).appendTo(g).spinner(e).bind("change keyup",function(){b.find(".spinner").val(this.value),i()})}),h.$table.bind("filterReset",function(){e.addToggle&&(b.find(".toggle")[0].checked=!1),i()}),i(),f},uiSlider:function(b,c,d){var e=a.extend({value:0,min:0,max:100,step:1,range:"min",delayed:!0,valueToHeader:!1,exactMatch:!0,compare:"",allText:"all"},d),f=a('<input class="filter" type="hidden">').appendTo(b).bind("change.tsfilter",function(){i({value:this.value})}),g=[],h=b.closest("table")[0].config,i=function(d){var f="undefined"!=typeof d?a.tablesorter.formatFloat((d.value+"").replace(/[><=]/g,""))||e.min:e.value,h=e.compare?f:f===e.min?e.allText:f,i=e.compare+h;e.valueToHeader?b.closest("thead").find("th[data-column="+c+"]").find(".curvalue").html(" ("+i+")"):b.find(".ui-slider-handle").addClass("value-popup").attr("data-value",i),b.find(".filter").val(e.compare?e.compare+f:f===e.min?"":(e.exactMatch?"=":"")+f).trigger("search",d&&"boolean"==typeof d.delayed?d.delayed:e.delayed).end().find(".slider").slider("value",f),g.length&&(g.find(".slider").slider("value",f),e.valueToHeader?g.closest("thead").find("th[data-column="+c+"]").find(".curvalue").html(" ("+i+")"):g.find(".ui-slider-handle").addClass("value-popup").attr("data-value",i))};return b.closest("thead").find("th[data-column="+c+"]").addClass("filter-parsed"),e.valueToHeader&&b.closest("thead").find("th[data-column="+c+"]").find(".tablesorter-header-inner").append('<span class="curvalue" />'),e.oldcreate=e.create,e.oldslide=e.slide,e.create=function(a,b){i(),"function"==typeof e.oldcreate&&e.oldcreate(a,b)},e.slide=function(a,b){i(b),"function"==typeof e.oldslide&&e.oldslide(a,b)},a('<div class="slider slider'+c+'"/>').appendTo(b).slider(e),h.$table.bind("filterReset",function(){b.find(".slider").slider("value",e.value),i()}),h.$table.bind("stickyHeadersInit",function(){g=h.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(c).empty(),a('<div class="slider slider'+c+'"/>').val(e.value).appendTo(g).slider(e).bind("change keyup",function(){b.find(".slider").val(this.value),i()})}),f},uiRange:function(b,c,d){var e=a.extend({values:[0,100],min:0,max:100,range:!0,delayed:!0,valueToHeader:!1},d),f=a('<input class="filter" type="hidden">').appendTo(b).bind("change.tsfilter",function(){var a=this.value.split(" - ");""===this.value&&(a=[e.min,e.max]),a&&a[1]&&i({values:a,delay:!1})}),g=[],h=b.closest("table")[0].config,i=function(a){var d=a&&a.values||e.values,f=d[0]+" - "+d[1],h=d[0]===e.min&&d[1]===e.max?"":f;e.valueToHeader?b.closest("thead").find("th[data-column="+c+"]").find(".currange").html(" ("+f+")"):b.find(".ui-slider-handle").addClass("value-popup").eq(0).attr("data-value",d[0]).end().eq(1).attr("data-value",d[1]),b.find(".filter").val(h).trigger("search",a&&"boolean"==typeof a.delayed?a.delayed:e.delayed).end().find(".range").slider("values",d),g.length&&(g.find(".range").slider("values",d),e.valueToHeader?g.closest("thead").find("th[data-column="+c+"]").find(".currange").html(" ("+f+")"):g.find(".ui-slider-handle").addClass("value-popup").eq(0).attr("data-value",d[0]).end().eq(1).attr("data-value",d[1]))};return b.closest("thead").find("th[data-column="+c+"]").addClass("filter-parsed"),e.valueToHeader&&b.closest("thead").find("th[data-column="+c+"]").find(".tablesorter-header-inner").append('<span class="currange"/>'),e.oldcreate=e.create,e.oldslide=e.slide,e.create=function(a,b){i(),"function"==typeof e.oldcreate&&e.oldcreate(a,b)},e.slide=function(a,b){i(b),"function"==typeof e.oldslide&&e.oldslide(a,b)},a('<div class="range range'+c+'"/>').appendTo(b).slider(e),h.$table.bind("filterReset",function(){b.find(".range").slider("values",e.values),i()}),h.$table.bind("stickyHeadersInit",function(){g=h.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(c).empty(),a('<div class="range range'+c+'"/>').val(e.value).appendTo(g).slider(e).bind("change keyup",function(){b.find(".range").val(this.value),i()})}),f},uiDateCompare:function(b,c,d){var e,f,g=a.extend({defaultDate:"",cellText:"",changeMonth:!0,changeYear:!0,numberOfMonths:1,compare:"",compareOptions:!1},d),h=b.closest("thead").find("th[data-column="+c+"]"),i=a('<input class="dateCompare" type="hidden">').appendTo(b).bind("change.tsfilter",function(){var a=this.value;a&&g.onClose(a)}),j=[],k=b.closest("table")[0].config,l=function(a){var c=new Date(b.find(".date").datepicker("getDate")).getTime();b.find(".compare").val(a),b.find(".dateCompare").val(a+c).trigger("search",g.delayed).end(),j.length&&j.find(".compare").val(a)};if(h.addClass("filter-parsed"),g.compareOptions){f='<select class="compare">';for(var m in g.compareOptions)f+='<option value="'+m+'"',m===g.compare&&(f+=' selected="selected"'),f+=">"+m+"</option>";f+="</select>",b.append(f).find(".compare").bind("change",function(){l(a(this).val())})}else g.cellText&&(f="<label>"+g.cellText+"</label>",b.append(f));return e='<input type="text" class="date date'+c+'" placeholder="'+(h.data("placeholder")||h.attr("data-placeholder")||"")+'" />',a(e).appendTo(b),g.oldonClose=g.onClose,g.onClose=function(a,c){var d=new Date(b.find(".date").datepicker("getDate")).getTime()||"",e=b.find(".compare").val()||g.compare;b.find(".dateCompare").val(e+d).trigger("search").end().find(".date").datepicker("setDate",a),j.length&&j.find(".date").datepicker("setDate",a),"function"==typeof g.oldonClose&&g.oldonClose(a,c)},b.find(".date").datepicker(g),g.filterDate&&b.find(".date").datepicker("setDate",g.filterDate),k.$table.bind("filterReset",function(){b.find(".date").val("").datepicker("option","currentText",""),j.length&&j.find(".date").val("").datepicker("option","currentText","")}),k.$table.bind("stickyHeadersInit",function(){j=k.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(c).empty(),g.compareOptions?j.append(f).find(".compare").bind("change",function(){l(a(this).val())}):g.cellText&&j.append(f),j.append(e).find(".date").datepicker(g)}),i.val(g.defaultDate?g.defaultDate:"")},uiDatepicker:function(b,c,d){var e,f,g,h=a.extend({from:"",to:"",textFrom:"from",textTo:"to",changeMonth:!0,changeYear:!0,numberOfMonths:1},d),i=[],j=a('<input class="dateRange" type="hidden">').appendTo(b).bind("change.tsfilter",function(){var a=this.value;a.match(" - ")?(a=a.split(" - "),b.find(".dateTo").val(a[1]),g(a[0])):a.match(">=")?g(a.replace(">=","")):a.match("<=")&&f(a.replace("<=",""))}),k=b.closest("table")[0].config;b.closest("thead").find("th[data-column="+c+"]").addClass("filter-parsed"),e="<label>"+h.textFrom+'</label><input type="text" class="dateFrom" /><label>'+h.textTo+'</label><input type="text" class="dateTo" />',a(e).appendTo(b),h.oldonClose=h.onClose;var l=h.defaultDate=h.from||h.defaultDate;return g=h.onClose=function(a,c){var d=new Date(b.find(".dateFrom").datepicker("getDate")).getTime()||"",e=new Date(b.find(".dateTo").datepicker("getDate")).getTime()||"",f=d?e?d+" - "+e:">="+d:e?"<="+e:"";b.find(".dateRange").val(f).trigger("search").end().find(".dateTo").datepicker("option","minDate",a).end().find(".dateFrom").val(a),i.length&&i.find(".dateTo").datepicker("option","minDate",a).end().find(".dateFrom").val(a),"function"==typeof h.oldonClose&&h.oldonClose(a,c)},b.find(".dateFrom").datepicker(h),h.defaultDate=h.to||"+7d",f=h.onClose=function(a,c){var d=new Date(b.find(".dateFrom").datepicker("getDate")).getTime()||"",e=new Date(b.find(".dateTo").datepicker("getDate")).getTime()||"",f=d?e?d+" - "+e:">="+d:e?"<="+e:"";b.find(".dateRange").val(f).trigger("search").end().find(".dateFrom").datepicker("option","maxDate",a).end().find(".dateTo").val(a),i.length&&i.find(".dateFrom").datepicker("option","maxDate",a).end().find(".dateTo").val(a),"function"==typeof h.oldonClose&&h.oldonClose(a,c)},b.find(".dateTo").datepicker(h),k.$table.bind("stickyHeadersInit",function(){i=k.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(c).empty(),i.append(e),h.onClose=f,i.find(".dateTo").datepicker(h),h.defaultDate=l,h.onClose=g,i.find(".dateFrom").datepicker(h)}),b.closest("table").bind("filterReset",function(){b.find(".dateFrom, .dateTo").val("").datepicker("option","currentText",""),i.length&&i.find(".dateFrom, .dateTo").val("").datepicker("option","currentText","")}),j.val(h.from?h.to?h.from+" - "+h.to:">="+h.from:h.to?"<="+h.to:"")},html5Number:function(b,c,d){var e,f,g=a.extend({value:0,min:0,max:100,step:1,delayed:!0,disabled:!1,addToggle:!0,exactMatch:!0,compare:"",compareOptions:!1,skipTest:!1},d),h=a('<input type="number" style="visibility:hidden;" value="test">').appendTo(b),i=g.skipTest||"number"===h.attr("type")&&"test"!==h.val(),j=[],k=b.closest("table")[0].config,l=function(a){var c=b.find(".number").val();b.find(".compare").val(a),b.find("input[type=hidden]").val(a+c).trigger("search",g.delayed).end(),j.length&&j.find(".compare").val(a)},m=function(a,c){var d=g.addToggle?b.find(".toggle").is(":checked"):!0,e=b.find(".compare").val()||g.compare;b.find("input[type=hidden]").val(!g.addToggle||d?(e?e:g.exactMatch?"=":"")+a:"").trigger("search",c?c:g.delayed).end().find(".number").val(a),b.find(".number").length&&(b.find(".number")[0].disabled=g.disabled||!d),j.length&&(j.find(".number").val(a)[0].disabled=g.disabled||!d,g.addToggle&&(j.find(".toggle")[0].checked=d))};if(h.remove(),i&&(f=g.addToggle?'<div class="button"><input id="html5button'+c+'" type="checkbox" class="toggle" /><label for="html5button'+c+'"></label></div>':""),g.compareOptions){f='<select class="compare">';for(var n in g.compareOptions)f+='<option value="'+n+'"',n===g.compare&&(f+=' selected="selected"'),f+=">"+n+"</option>";f+="</select>",b.append(f).find(".compare").bind("change",function(){l(a(this).val())})}else f&&b.append(f);return i&&(e='<input class="number" type="number" min="'+g.min+'" max="'+g.max+'" value="'+g.value+'" step="'+g.step+'" />',b.append(e+'<input type="hidden" />').find(".toggle, .number").bind("change",function(){m(b.find(".number").val())}).closest("thead").find("th[data-column="+c+"]").addClass("filter-parsed").closest("table").bind("filterReset",function(){g.addToggle&&(b.find(".toggle")[0].checked=!1,j.length&&(j.find(".toggle")[0].checked=!1)),m(b.find(".number").val())}),k.$table.bind("stickyHeadersInit",function(){j=k.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(c).empty(),g.compareOptions?j.append(f).find(".compare").bind("change",function(){l(a(this).val())}):j.append(f),j.append(e).find(".toggle, .number").bind("change",function(){m(j.find(".number").val())}),m(b.find(".number").val())}),m(b.find(".number").val())),i?b.find('input[type="hidden"]'):a('<input type="search">')},html5Range:function(b,c,d){var e=a.extend({value:0,min:0,max:100,step:1,delayed:!0,valueToHeader:!0,exactMatch:!0,compare:"",allText:"all",skipTest:!1},d),f=a('<input type="range" style="visibility:hidden;" value="test">').appendTo(b),g=e.skipTest||"range"===f.attr("type")&&"test"!==f.val(),h=[],i=b.closest("table")[0].config,j=function(a,d){a=(a+"").replace(/[<>=]/g,"")||e.min;var f=" ("+(e.compare?e.compare+a:a==e.min?e.allText:a)+")";b.find("input[type=hidden]").val(e.compare?e.compare+a:a==e.min?"":(e.exactMatch?"=":"")+a).trigger("search",d?d:e.delayed).end().find(".range").val(a),b.closest("thead").find("th[data-column="+c+"]").find(".curvalue").html(f),h.length&&(h.find(".range").val(a),h.closest("thead").find("th[data-column="+c+"]").find(".curvalue").html(f))};return f.remove(),g&&(b.html('<input type="hidden"><input class="range" type="range" min="'+e.min+'" max="'+e.max+'" value="'+e.value+'" />').closest("thead").find("th[data-column="+c+"]").addClass("filter-parsed").find(".tablesorter-header-inner").append('<span class="curvalue" />'),b.find(".range").bind("change",function(){j(this.value)}),b.find("input[type=hidden]").bind("change.tsfilter",function(){var a=this.value;a!==this.lastValue&&(this.lastValue=e.compare?e.compare+a:a==e.min?"":(e.exactMatch?"=":"")+a,this.value=this.lastValue,j(a))}),i.$table.bind("stickyHeadersInit",function(){h=i.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(c).empty(),h.html('<input class="range" type="range" min="'+e.min+'" max="'+e.max+'" value="'+e.value+'" />').find(".range").bind("change",function(){j(h.find(".range").val())}),j(b.find(".range").val())}),b.closest("table").bind("filterReset",function(){j(e.value)}),j(b.find(".range").val())),g?b.find('input[type="hidden"]'):a('<input type="search">')},html5Color:function(b,c,d){var e,f=a.extend({value:"#000000",disabled:!1,addToggle:!0,exactMatch:!0,valueToHeader:!1,skipTest:!1},d),g=a('<input type="color" style="visibility:hidden;" value="test">').appendTo(b),h=f.skipTest||"color"===g.attr("type")&&"test"!==g.val(),i=[],j=b.closest("table")[0].config,k=function(a){a=a||f.value;var d=!0,e=" ("+a+")";f.addToggle&&(d=b.find(".toggle").is(":checked")),b.find(".colorpicker").length&&(b.find(".colorpicker").val(a)[0].disabled=f.disabled||!d),b.find("input[type=hidden]").val(d?a+(f.exactMatch?"=":""):"").trigger("search"),f.valueToHeader?b.closest("thead").find("th[data-column="+c+"]").find(".curcolor").html(e):b.find(".currentColor").html(e),i.length&&(i.find(".colorpicker").val(a)[0].disabled=f.disabled||!d,f.addToggle&&(i.find(".toggle")[0].checked=d),f.valueToHeader?i.closest("thead").find("th[data-column="+c+"]").find(".curcolor").html(e):i.find(".currentColor").html(e))};return g.remove(),h&&(e='<div class="color-controls-wrapper">',e+=f.addToggle?'<div class="button"><input id="colorbutton'+c+'" type="checkbox" class="toggle" /><label for="colorbutton'+c+'"></label></div>':"",e+='<input type="hidden"><input class="colorpicker" type="color" />',e+=(f.valueToHeader?"":'<span class="currentColor">(#000000)</span>')+"</div>",b.html(e),f.valueToHeader&&b.closest("thead").find("th[data-column="+c+"]").find(".tablesorter-header-inner").append('<span class="curcolor" />'),b.find(".toggle, .colorpicker").bind("change",function(){k(b.find(".colorpicker").val())}),b.find("input[type=hidden]").bind("change.tsfilter",function(){k(this.value)}),b.closest("table").bind("filterReset",function(){b.find(".toggle")[0].checked=!1,k(b.find(".colorpicker").val())}),j.$table.bind("stickyHeadersInit",function(){i=j.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(c),i.html(e).find(".toggle, .colorpicker").bind("change",function(){k(i.find(".colorpicker").val())}),k(i.find(".colorpicker").val())}),k(f.value)),h?b.find('input[type="hidden"]'):a('<input type="search">')}}}(b)});
