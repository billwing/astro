define("gallery/tablesorter/2.13.3/tablesorter",["$"],function(a){var b=a("$");!function(a){"use strict";a.extend({tablesorter:new function(){function b(){var a=arguments.length>1?Array.prototype.slice.call(arguments):arguments[0];"undefined"!=typeof console&&"undefined"!=typeof console.log?console.log(a):alert(a)}function c(a,c){b(a+" ("+((new Date).getTime()-c.getTime())+"ms)")}function d(a){for(var b in a)return!1;return!0}function e(b,c,d){if(!c)return"";var e=b.config,f=e.textExtraction,g="";return g="simple"===f?e.supportsTextContent?c.textContent:a(c).text():"function"==typeof f?f(c,b,d):"object"==typeof f&&f.hasOwnProperty(d)?f[d](c,b,d):e.supportsTextContent?c.textContent:a(c).text(),a.trim(g)}function f(a,c,d,f){for(var g,h=x.parsers.length,i=!1,j="",k=!0;""===j&&k;)d++,c[d]?(i=c[d].cells[f],j=e(a,i,f),a.config.debug&&b("Checking if value was empty on row "+d+", column: "+f+': "'+j+'"')):k=!1;for(;--h>=0;)if(g=x.parsers[h],g&&"text"!==g.id&&g.is&&g.is(j,a,i))return g;return x.getParserById("text")}function g(a){var d,e,g,h,i,j,k,l,m=a.config,n=m.$tbodies=m.$table.children("tbody:not(."+m.cssInfoBlock+")"),o="";if(0===n.length)return m.debug?b("*Empty table!* Not building a parser cache"):"";if(m.debug&&(l=new Date,b("Detecting parsers for each column")),d=n[0].rows,d[0])for(e=[],g=d[0].cells.length,h=0;g>h;h++)i=m.$headers.filter(":not([colspan])"),i=i.add(m.$headers.filter('[colspan="1"]')).filter('[data-column="'+h+'"]:last'),j=m.headers[h],k=x.getParserById(x.getData(i,j,"sorter")),m.empties[h]=x.getData(i,j,"empty")||m.emptyTo||(m.emptyToBottom?"bottom":"top"),m.strings[h]=x.getData(i,j,"string")||m.stringTo||"max",k||(k=f(a,d,-1,h)),m.debug&&(o+="column:"+h+"; parser:"+k.id+"; string:"+m.strings[h]+"; empty: "+m.empties[h]+"\n"),e.push(k);m.debug&&(b(o),c("Completed detecting parsers",l)),m.parsers=e}function h(d){var f,g,h,i,j,k,l,m,n,o,p=d.tBodies,q=d.config,r=q.parsers,s=[];if(q.cache={},!r)return q.debug?b("*Empty table!* Not building a cache"):"";for(q.debug&&(o=new Date),q.showProcessing&&x.isProcessing(d,!0),l=0;l<p.length;l++)if(q.cache[l]={row:[],normalized:[]},!a(p[l]).hasClass(q.cssInfoBlock)){for(f=p[l]&&p[l].rows.length||0,g=p[l].rows[0]&&p[l].rows[0].cells.length||0,j=0;f>j;++j)if(m=a(p[l].rows[j]),n=[],m.hasClass(q.cssChildRow))q.cache[l].row[q.cache[l].row.length-1]=q.cache[l].row[q.cache[l].row.length-1].add(m);else{for(q.cache[l].row.push(m),k=0;g>k;++k)h=e(d,m[0].cells[k],k),i=r[k].format(h,d,m[0].cells[k],k),n.push(i),"numeric"===(r[k].type||"").toLowerCase()&&(s[k]=Math.max(Math.abs(i)||0,s[k]||0));n.push(q.cache[l].normalized.length),q.cache[l].normalized.push(n)}q.cache[l].colMax=s}q.showProcessing&&x.isProcessing(d),q.debug&&c("Building cache for "+f+" rows",o)}function i(b,e){var f,g,h,i,j,k,l,m,n,o,p,q,r=b.config,s=r.widgetOptions,t=b.tBodies,u=[],v=r.cache;if(!d(v)){for(r.debug&&(q=new Date),n=0;n<t.length;n++)if(j=a(t[n]),j.length&&!j.hasClass(r.cssInfoBlock)){for(k=x.processTbody(b,j,!0),f=v[n].row,g=v[n].normalized,h=g.length,i=h?g[0].length-1:0,l=0;h>l;l++)if(p=g[l][i],u.push(f[p]),!r.appender||r.pager&&(!r.pager.removeRows||!s.pager_removeRows)&&!r.pager.ajax)for(o=f[p].length,m=0;o>m;m++)k.append(f[p][m]);x.processTbody(b,k,!1)}r.appender&&r.appender(b,u),r.debug&&c("Rebuilt table",q),e||r.appender||x.applyWidget(b),a(b).trigger("sortEnd",b),a(b).trigger("updateComplete",b)}}function j(b){var c,d,e,f,g,h,i,j,k,l,m,n,o=[],p={},q=0,r=a(b).find("thead:eq(0), tfoot").children("tr");for(c=0;c<r.length;c++)for(h=r[c].cells,d=0;d<h.length;d++){for(g=h[d],i=g.parentNode.rowIndex,j=i+"-"+g.cellIndex,k=g.rowSpan||1,l=g.colSpan||1,"undefined"==typeof o[i]&&(o[i]=[]),e=0;e<o[i].length+1;e++)if("undefined"==typeof o[i][e]){m=e;break}for(p[j]=m,q=Math.max(m,q),a(g).attr({"data-column":m}),e=i;i+k>e;e++)for("undefined"==typeof o[e]&&(o[e]=[]),n=o[e],f=m;m+l>f;f++)n[f]="x"}return b.config.columns=q+1,p}function k(a){return/^d/i.test(a)||1===a}function l(d){var e,f,g,h,i,l,m,o=j(d),p=d.config;p.headerList=[],p.headerContent=[],p.debug&&(m=new Date),h=p.cssIcon?'<i class="'+p.cssIcon+" "+x.css.icon+'"></i>':"",p.$headers=a(d).find(p.selectorHeaders).each(function(b){f=a(this),e=p.headers[b],p.headerContent[b]=a(this).html(),i=p.headerTemplate.replace(/\{content\}/g,a(this).html()).replace(/\{icon\}/g,h),p.onRenderTemplate&&(g=p.onRenderTemplate.apply(f,[b,i]),g&&"string"==typeof g&&(i=g)),a(this).html('<div class="tablesorter-header-inner">'+i+"</div>"),p.onRenderHeader&&p.onRenderHeader.apply(f,[b]),this.column=o[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=k(x.getData(f,e,"sortInitialOrder")||p.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,l=x.getData(f,e,"lockedOrder")||!1,"undefined"!=typeof l&&l!==!1&&(this.order=this.lockedOrder=k(l)?[1,1,1]:[0,0,0]),f.addClass(x.css.header+" "+p.cssHeader),p.headerList[b]=this,f.parent().addClass(x.css.headerRow+" "+p.cssHeaderRow),f.attr("tabindex",0)}),n(d),p.debug&&(c("Built headers:",m),b(p.$headers))}function m(a,b,c){var d=a.config;d.$table.find(d.selectorRemove).remove(),g(a),h(a),v(d.$table,b,c)}function n(b){var c,d=b.config;d.$headers.each(function(b,e){c="false"===x.getData(e,d.headers[b],"sorter"),e.sortDisabled=c,a(e)[c?"addClass":"removeClass"]("sorter-false")})}function o(b){var c,d,e,f,g=b.config,h=g.sortList,i=[x.css.sortAsc+" "+g.cssAsc,x.css.sortDesc+" "+g.cssDesc],j=a(b).find("tfoot tr").children().removeClass(i.join(" "));for(g.$headers.removeClass(i.join(" ")),f=h.length,d=0;f>d;d++)if(2!==h[d][1]&&(c=g.$headers.not(".sorter-false").filter('[data-column="'+h[d][0]+'"]'+(1===f?":last":"")),c.length))for(e=0;e<c.length;e++)c[e].sortDisabled||(c.eq(e).addClass(i[h[d][1]]),j.length&&j.filter('[data-column="'+h[d][0]+'"]').eq(e).addClass(i[h[d][1]]))}function p(b){if(b.config.widthFixed&&0===a(b).find("colgroup").length){var c=a("<colgroup>"),d=a(b).width();a(b.tBodies[0]).find("tr:first").children("td:visible").each(function(){c.append(a("<col>").css("width",parseInt(1e3*(a(this).width()/d),10)/10+"%"))}),a(b).prepend(c)}}function q(b,c){var d,e,f,g=b.config,h=c||g.sortList;g.sortList=[],a.each(h,function(b,c){d=[parseInt(c[0],10),parseInt(c[1],10)],f=g.$headers[d[0]],f&&(g.sortList.push(d),e=a.inArray(d[1],f.order),f.count=e>=0?e:d[1]%(g.sortReset?3:2))})}function r(a,b){return a&&a[b]?a[b].type||"":""}function s(b,c,d){var e,f,g,h,j,k=b.config,l=!d[k.sortMultiSortKey],m=a(b);if(m.trigger("sortStart",b),c.count=d[k.sortResetKey]?2:(c.count+1)%(k.sortReset?3:2),k.sortRestart&&(f=c,k.$headers.each(function(){this===f||!l&&a(this).is("."+x.css.sortDesc+",."+x.css.sortAsc)||(this.count=-1)})),f=c.column,l){if(k.sortList=[],null!==k.sortForce)for(e=k.sortForce,g=0;g<e.length;g++)e[g][0]!==f&&k.sortList.push(e[g]);if(h=c.order[c.count],2>h&&(k.sortList.push([f,h]),c.colSpan>1))for(g=1;g<c.colSpan;g++)k.sortList.push([f+g,h])}else if(k.sortAppend&&k.sortList.length>1&&x.isValueInArray(k.sortAppend[0][0],k.sortList)&&k.sortList.pop(),x.isValueInArray(f,k.sortList))for(g=0;g<k.sortList.length;g++)j=k.sortList[g],h=k.$headers[j[0]],j[0]===f&&(j[1]=h.order[c.count],2===j[1]&&(k.sortList.splice(g,1),h.count=-1));else if(h=c.order[c.count],2>h&&(k.sortList.push([f,h]),c.colSpan>1))for(g=1;g<c.colSpan;g++)k.sortList.push([f+g,h]);if(null!==k.sortAppend)for(e=k.sortAppend,g=0;g<e.length;g++)e[g][0]!==f&&k.sortList.push(e[g]);m.trigger("sortBegin",b),setTimeout(function(){o(b),t(b),i(b)},1)}function t(a){var b,e,f,g,h,i,j,k,l,m,n,o,p,q,s=0,t=a.config,u=t.textSorter||"",v=t.sortList,w=v.length,y=a.tBodies.length;if(!t.serverSideSorting&&!d(t.cache)){for(t.debug&&(n=new Date),e=0;y>e;e++)i=t.cache[e].colMax,j=t.cache[e].normalized,k=j.length,m=j&&j[0]?j[0].length-1:0,j.sort(function(c,d){for(b=0;w>b;b++){if(h=v[b][0],l=v[b][1],s=0===l,p=s?c:d,q=s?d:c,f=t.string[t.empties[h]||t.emptyTo],""===p[h]&&0!==f)return("boolean"==typeof f?f?-1:1:f||1)*(s?1:-1);if(""===q[h]&&0!==f)return("boolean"==typeof f?f?1:-1:-f||-1)*(s?1:-1);if(g=/n/i.test(r(t.parsers,h)),g&&t.strings[h]?(g="boolean"==typeof t.string[t.strings[h]]?(s?1:-1)*(t.string[t.strings[h]]?-1:1):t.strings[h]?t.string[t.strings[h]]||0:0,o=t.numberSorter?t.numberSorter(p[h],q[h],s,i[h],a):x.sortNumeric(p[h],q[h],g,i[h])):o="function"==typeof u?u(p[h],q[h],s,h,a):"object"==typeof u&&u.hasOwnProperty(h)?u[h](p[h],q[h],s,h,a):x.sortNatural(p[h],q[h]),o)return o}return c[m]-d[m]});t.debug&&c("Sorting on "+v.toString()+" and dir "+l+" time",n)}}function u(a,b){var c=a[0].config;c.pager&&!c.pager.ajax&&a.trigger("updateComplete"),"function"==typeof b&&b(a[0])}function v(a,b,c){b===!1||a[0].isProcessing?u(a,c):a.trigger("sorton",[a[0].config.sortList,function(){u(a,c)}])}function w(b){var c,f,j=b.config,k=j.$table;j.$headers.find(j.selectorSort).add(j.$headers.filter(j.selectorSort)).unbind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter",function(c,e){if(!(1!==(c.which||c.button)&&!/sort|keypress/.test(c.type)||"keypress"===c.type&&13!==c.which||"mouseup"===c.type&&e!==!0&&(new Date).getTime()-f>250)){if("mousedown"===c.type)return f=(new Date).getTime(),"INPUT"===c.target.tagName?"":!j.cancelSelection;j.delayInit&&d(j.cache)&&h(b);var g=/TH|TD/.test(this.tagName)?a(this):a(this).parents("th, td").filter(":first"),i=g[0];i.sortDisabled||s(b,i,c)}}),j.cancelSelection&&j.$headers.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"}),k.unbind("sortReset update updateRows updateCell updateAll addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(".tablesorter ")).bind("sortReset.tablesorter",function(a){a.stopPropagation(),j.sortList=[],o(b),t(b),i(b)}).bind("updateAll.tablesorter",function(a,c,d){a.stopPropagation(),x.refreshWidgets(b,!0,!0),x.restoreHeaders(b),l(b),w(b),m(b,c,d)}).bind("update.tablesorter updateRows.tablesorter",function(a,c,d){a.stopPropagation(),n(b),m(b,c,d)}).bind("updateCell.tablesorter",function(c,d,f,g){c.stopPropagation(),k.find(j.selectorRemove).remove();var h,i,l,m=k.find("tbody"),n=m.index(a(d).parents("tbody").filter(":first")),o=a(d).parents("tr").filter(":first");d=a(d)[0],m.length&&n>=0&&(i=m.eq(n).find("tr").index(o),l=d.cellIndex,h=j.cache[n].normalized[i].length-1,j.cache[n].row[b.config.cache[n].normalized[i][h]]=o,j.cache[n].normalized[i][l]=j.parsers[l].format(e(b,d,l),b,d,l),v(k,f,g))}).bind("addRows.tablesorter",function(a,d,f,h){a.stopPropagation();var i,l=d.filter("tr").length,m=[],n=d[0].cells.length,o=k.find("tbody").index(d.parents("tbody").filter(":first"));for(j.parsers||g(b),i=0;l>i;i++){for(c=0;n>c;c++)m[c]=j.parsers[c].format(e(b,d[i].cells[c],c),b,d[i].cells[c],c);m.push(j.cache[o].row.length),j.cache[o].row.push([d[i]]),j.cache[o].normalized.push(m),m=[]}v(k,f,h)}).bind("sorton.tablesorter",function(a,c,e,f){var g=b.config;a.stopPropagation(),k.trigger("sortStart",this),q(b,c),o(b),g.delayInit&&d(g.cache)&&h(b),k.trigger("sortBegin",this),t(b),i(b,f),"function"==typeof e&&e(b)}).bind("appendCache.tablesorter",function(a,c,d){a.stopPropagation(),i(b,d),"function"==typeof c&&c(b)}).bind("applyWidgetId.tablesorter",function(a,c){a.stopPropagation(),x.getWidgetById(c).format(b,j,j.widgetOptions)}).bind("applyWidgets.tablesorter",function(a,c){a.stopPropagation(),x.applyWidget(b,c)}).bind("refreshWidgets.tablesorter",function(a,c,d){a.stopPropagation(),x.refreshWidgets(b,c,d)}).bind("destroy.tablesorter",function(a,c,d){a.stopPropagation(),x.destroy(b,c,d)})}var x=this;x.version="2.13.3",x.parsers=[],x.widgets=[],x.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},x.css={table:"tablesorter",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc"},x.log=b,x.benchmark=c,x.construct=function(b){return this.each(function(){var c=this,d=a.extend(!0,{},x.defaults,b);!c.hasInitialized&&x.buildTable&&"TABLE"!==this.tagName&&x.buildTable(c,d),x.setup(c,d)})},x.setup=function(c,d){if(!c||!c.tHead||0===c.tBodies.length||c.hasInitialized===!0)return d.debug?b("stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var e="",f=a(c),i=a.metadata;c.hasInitialized=!1,c.isProcessing=!0,c.config=d,a.data(c,"tablesorter",d),d.debug&&a.data(c,"startoveralltimer",new Date),d.supportsTextContent="x"===a("<span>x</span>")[0].textContent,d.supportsDataObject=function(a){return a[0]=parseInt(a[0],10),a[0]>1||1===a[0]&&parseInt(a[1],10)>=4}(a.fn.jquery.split(".")),d.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(f.attr("class"))||(e=""!==d.theme?" tablesorter-"+d.theme:""),d.$table=f.addClass(x.css.table+" "+d.tableClass+e),d.$tbodies=f.children("tbody:not(."+d.cssInfoBlock+")"),d.widgetInit={},l(c),p(c),g(c),d.delayInit||h(c),w(c),d.supportsDataObject&&"undefined"!=typeof f.data().sortlist?d.sortList=f.data().sortlist:i&&f.metadata()&&f.metadata().sortlist&&(d.sortList=f.metadata().sortlist),x.applyWidget(c,!0),d.sortList.length>0?f.trigger("sorton",[d.sortList,{},!d.initWidgets]):d.initWidgets&&x.applyWidget(c),d.showProcessing&&f.unbind("sortBegin.tablesorter sortEnd.tablesorter").bind("sortBegin.tablesorter sortEnd.tablesorter",function(a){x.isProcessing(c,"sortBegin"===a.type)}),c.hasInitialized=!0,c.isProcessing=!1,d.debug&&x.benchmark("Overall initialization time",a.data(c,"startoveralltimer")),f.trigger("tablesorter-initialized",c),"function"==typeof d.initialized&&d.initialized(c)},x.isProcessing=function(b,c,d){b=a(b);var e=b[0].config,f=d||b.find("."+x.css.header);c?(e.sortList.length>0&&(f=f.filter(function(){return this.sortDisabled?!1:x.isValueInArray(parseFloat(a(this).attr("data-column")),e.sortList)})),f.addClass(x.css.processing+" "+e.cssProcessing)):f.removeClass(x.css.processing+" "+e.cssProcessing)},x.processTbody=function(b,c,d){var e;return d?(b.isProcessing=!0,c.before('<span class="tablesorter-savemyplace"/>'),e=a.fn.detach?c.detach():c.remove()):(e=a(b).find("span.tablesorter-savemyplace"),c.insertAfter(e),e.remove(),b.isProcessing=!1,void 0)},x.clearTableBody=function(b){a(b)[0].config.$tbodies.empty()},x.restoreHeaders=function(b){var c=b.config;c.$table.find(c.selectorHeaders).each(function(b){a(this).find(".tablesorter-header-inner").length&&a(this).html(c.headerContent[b])})},x.destroy=function(b,c,d){if(b=a(b)[0],b.hasInitialized){x.refreshWidgets(b,!0,!0);var e=a(b),f=b.config,g=e.find("thead:first"),h=g.find("tr."+x.css.headerRow).removeClass(x.css.headerRow+" "+f.cssHeaderRow),i=e.find("tfoot:first > tr").children("th, td");g.find("tr").not(h).remove(),e.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(".tablesorter ")),f.$headers.add(i).removeClass([x.css.header,f.cssHeader,f.cssAsc,f.cssDesc,x.css.sortAsc,x.css.sortDesc].join(" ")).removeAttr("data-column"),h.find(f.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter keypress.tablesorter"),x.restoreHeaders(b),c!==!1&&e.removeClass(x.css.table+" "+f.tableClass+" tablesorter-"+f.theme),b.hasInitialized=!1,"function"==typeof d&&d(b)}},x.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,hex:/^0x[0-9a-f]+$/i},x.sortNatural=function(a,b){if(a===b)return 0;var c,d,e,f,g,h,i,j,k=x.regex;if(k.hex.test(b)){if(d=parseInt(a.match(k.hex),16),f=parseInt(b.match(k.hex),16),f>d)return-1;if(d>f)return 1}for(c=a.replace(k.chunk,"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),e=b.replace(k.chunk,"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),j=Math.max(c.length,e.length),i=0;j>i;i++){if(g=isNaN(c[i])?c[i]||0:parseFloat(c[i])||0,h=isNaN(e[i])?e[i]||0:parseFloat(e[i])||0,isNaN(g)!==isNaN(h))return isNaN(g)?1:-1;if(typeof g!=typeof h&&(g+="",h+=""),h>g)return-1;if(g>h)return 1}return 0},x.sortText=function(a,b){return a>b?1:b>a?-1:0},x.getTextValue=function(a,b,c){if(c){var d,e=a?a.length:0,f=c+b;for(d=0;e>d;d++)f+=a.charCodeAt(d);return b*f}return 0},x.sortNumeric=function(a,b,c,d){return a===b?0:(isNaN(a)&&(a=x.getTextValue(a,c,d)),isNaN(b)&&(b=x.getTextValue(b,c,d)),a-b)},x.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},x.replaceAccents=function(a){var b,c="[",d=x.characterEquivalents;if(!x.characterRegex){x.characterRegexArray={};for(b in d)"string"==typeof b&&(c+=d[b],x.characterRegexArray[b]=new RegExp("["+d[b]+"]","g"));x.characterRegex=new RegExp(c+"]")}if(x.characterRegex.test(a))for(b in d)"string"==typeof b&&(a=a.replace(x.characterRegexArray[b],b));return a},x.isValueInArray=function(a,b){var c,d=b.length;for(c=0;d>c;c++)if(b[c][0]===a)return!0;return!1},x.addParser=function(a){var b,c=x.parsers.length,d=!0;for(b=0;c>b;b++)x.parsers[b].id.toLowerCase()===a.id.toLowerCase()&&(d=!1);d&&x.parsers.push(a)},x.getParserById=function(a){var b,c=x.parsers.length;for(b=0;c>b;b++)if(x.parsers[b].id.toLowerCase()===a.toString().toLowerCase())return x.parsers[b];return!1},x.addWidget=function(a){x.widgets.push(a)},x.getWidgetById=function(a){var b,c,d=x.widgets.length;for(b=0;d>b;b++)if(c=x.widgets[b],c&&c.hasOwnProperty("id")&&c.id.toLowerCase()===a.toLowerCase())return c},x.applyWidget=function(b,d){b=a(b)[0];var e,f,g,h=b.config,i=h.widgetOptions,j=[];h.debug&&(e=new Date),h.widgets.length&&(h.widgets=a.grep(h.widgets,function(b,c){return a.inArray(b,h.widgets)===c}),a.each(h.widgets||[],function(a,b){g=x.getWidgetById(b),g&&g.id&&(g.priority||(g.priority=10),j[a]=g)}),j.sort(function(a,b){return a.priority<b.priority?-1:a.priority===b.priority?0:1}),a.each(j,function(c,e){e&&((d||!h.widgetInit[e.id])&&(e.hasOwnProperty("options")&&(i=b.config.widgetOptions=a.extend(!0,{},e.options,i),h.widgetInit[e.id]=!0),e.hasOwnProperty("init")&&e.init(b,e,h,i)),!d&&e.hasOwnProperty("format")&&e.format(b,h,i,!1))})),h.debug&&(f=h.widgets.length,c("Completed "+(d===!0?"initializing ":"applying ")+f+" widget"+(1!==f?"s":""),e))},x.refreshWidgets=function(c,d,e){c=a(c)[0];var f,g=c.config,h=g.widgets,i=x.widgets,j=i.length;for(f=0;j>f;f++)i[f]&&i[f].id&&(d||a.inArray(i[f].id,h)<0)&&(g.debug&&b("Refeshing widgets: Removing "+i[f].id),i[f].hasOwnProperty("remove")&&(i[f].remove(c,g,g.widgetOptions),g.widgetInit[i[f].id]=!1));e!==!0&&x.applyWidget(c,d)},x.getData=function(b,c,d){var e,f,g="",h=a(b);return h.length?(e=a.metadata?h.metadata():!1,f=" "+(h.attr("class")||""),"undefined"!=typeof h.data(d)||"undefined"!=typeof h.data(d.toLowerCase())?g+=h.data(d)||h.data(d.toLowerCase()):e&&"undefined"!=typeof e[d]?g+=e[d]:c&&"undefined"!=typeof c[d]?g+=c[d]:" "!==f&&f.match(" "+d+"-")&&(g=f.match(new RegExp("\\s"+d+"-([\\w-]+)"))[1]||""),a.trim(g)):""},x.formatFloat=function(b,c){if("string"!=typeof b||""===b)return b;var d,e=c&&c.config?c.config.usNumberFormat!==!1:"undefined"!=typeof c?c:!0;return b=e?b.replace(/,/g,""):b.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(b)&&(b=b.replace(/^\s*\(([.\d]+)\)/,"-$1")),d=parseFloat(b),isNaN(d)?a.trim(b):d},x.isDigit=function(a){return isNaN(a)?/^[\-+(]?\d+[)]?$/.test(a.toString().replace(/[,.'"\s]/g,"")):!0}}});var b=a.tablesorter;a.fn.extend({tablesorter:b.construct}),b.addParser({id:"text",is:function(){return!0},format:function(c,d){var e=d.config;return c&&(c=a.trim(e.ignoreCase?c.toLocaleLowerCase():c),c=e.sortLocaleCompare?b.replaceAccents(c):c),c},type:"text"}),b.addParser({id:"digit",is:function(a){return b.isDigit(a)},format:function(c,d){var e=b.formatFloat((c||"").replace(/[^\w,. \-()]/g,""),d);return c&&"number"==typeof e?e:c?a.trim(c&&d.config.ignoreCase?c.toLocaleLowerCase():c):c},type:"numeric"}),b.addParser({id:"currency",is:function(a){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((a||"").replace(/[,. ]/g,""))},format:function(c,d){var e=b.formatFloat((c||"").replace(/[^\w,. \-()]/g,""),d);return c&&"number"==typeof e?e:c?a.trim(c&&d.config.ignoreCase?c.toLocaleLowerCase():c):c},type:"numeric"}),b.addParser({id:"ipAddress",is:function(a){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(a)},format:function(a,c){var d,e=a?a.split("."):"",f="",g=e.length;for(d=0;g>d;d++)f+=("00"+e[d]).slice(-3);return a?b.formatFloat(f,c):a},type:"numeric"}),b.addParser({id:"url",is:function(a){return/^(https?|ftp|file):\/\//.test(a)},format:function(b){return b?a.trim(b.replace(/(https?|ftp|file):\/\//,"")):b},type:"text"}),b.addParser({id:"isoDate",is:function(a){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(a)},format:function(a,c){return a?b.formatFloat(""!==a?new Date(a.replace(/-/g,"/")).getTime()||"":"",c):a},type:"numeric"}),b.addParser({id:"percent",is:function(a){return/(\d\s*?%|%\s*?\d)/.test(a)&&a.length<15},format:function(a,c){return a?b.formatFloat(a.replace(/%/g,""),c):a},type:"numeric"}),b.addParser({id:"usLongDate",is:function(a){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(a)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(a)},format:function(a,c){return a?b.formatFloat(new Date(a.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",c):a},type:"numeric"}),b.addParser({id:"shortDate",is:function(a){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((a||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(a,c,d,e){if(a){var f=c.config,g=f.headerList[e],h=g.dateFormat||b.getData(g,f.headers[e],"dateFormat")||f.dateFormat;a=a.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===h?a=a.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===h?a=a.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===h&&(a=a.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return a?b.formatFloat(new Date(a).getTime()||"",c):a},type:"numeric"}),b.addParser({id:"time",is:function(a){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(a)},format:function(a,c){return a?b.formatFloat(new Date("2000/01/01 "+a.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",c):a},type:"numeric"}),b.addParser({id:"metadata",is:function(){return!1},format:function(b,c,d){var e=c.config,f=e.parserMetadataName?e.parserMetadataName:"sortValue";return a(d).metadata()[f]},type:"numeric"}),b.addWidget({id:"zebra",priority:90,format:function(c,d,e){var f,g,h,i,j,k,l,m,n=new RegExp(d.cssChildRow,"i"),o=d.$tbodies;for(d.debug&&(k=new Date),l=0;l<o.length;l++)f=o.eq(l),m=f.children("tr").length,m>1&&(i=0,g=f.children("tr:visible"),g.each(function(){h=a(this),n.test(this.className)||i++,j=0===i%2,h.removeClass(e.zebra[j?1:0]).addClass(e.zebra[j?0:1])}));d.debug&&b.benchmark("Applying Zebra widget",k)},remove:function(b,c,d){var e,f,g=c.$tbodies,h=(d.zebra||["even","odd"]).join(" ");for(e=0;e<g.length;e++)f=a.tablesorter.processTbody(b,g.eq(e),!0),f.children().removeClass(h),a.tablesorter.processTbody(b,f,!1)}})}(b)});
