(function(a){a.fn.menuAim=function(b){var c=a(this),o=null,f=[],q=null,n=null,r=a.extend({rowSelector:"> li > a",submenuSelector:"*",tolerance:75,enter:a.noop,exit:a.noop,activate:a.noop,deactivate:a.noop},b);var i=3,e=300;var d=function(s){f.push({x:s.pageX,y:s.pageY});if(f.length>i){f.shift()}};var m=function(s){if(n){clearTimeout(n)}if(o){r.deactivate(o)}o=s};var k=function(){if(n){clearTimeout(n)}r.enter(this);g(this)},j=function(){r.exit(this)};var h=function(s){if(s==o){return}if(o){r.deactivate(o)}r.activate(s);o=s};var g=function(t){var s=l();if(s){n=setTimeout(function(){g(t)},s)}else{h(t)}};var l=function(){if(!o||!a(o).is(r.submenuSelector)){return 0}var u=c.offset(),B={x:u.left+c.outerWidth(),y:u.top-r.tolerance},v={x:u.left+c.outerWidth(),y:u.top+c.outerHeight()+r.tolerance},w=f[f.length-1],A=f[0];if(!w){return 0}if(!A){A=w}if(A.x<u.left||A.x>v.x||A.y<u.top||A.y>v.y){return 0}if(q&&w.x==q.x&&w.y==q.y){return 0}function x(D,C){return(C.y-D.y)/(C.x-D.x)}var y=x(w,B),t=x(w,v),s=x(A,B),z=x(A,v);if(y<s&&t>z){q=w;return e}q=null;return 0};var p=function(){c.mouseleave(m).find(r.rowSelector).mouseenter(k).mouseleave(j);a(document).mousemove(d)};p();return this}})(jQuery);
